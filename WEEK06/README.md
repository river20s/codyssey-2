# WEEK06 - 감동의 메시지

## 문제 설명
화성에서 지구로 HTML 형식의 이메일을 보내는 프로그램입니다. CSV 파일에서 수신자 목록을 읽어와서 여러 명에게 동시에 메일을 발송할 수 있습니다.

## 파일 구성
- `sendmail.py`: HTML 이메일 발송 프로그램
- `mail_target_list.csv`: 수신자 목록 CSV 파일
- `README.md`: 이 파일

## 두 가지 메일 발송 방법 비교

### 방법 1: 일괄 발송 (send_email_bulk)
받는 사람 필드에 여러 명의 이메일 주소를 한꺼번에 넣어서 한 번에 발송

**장점:**
- 빠르고 효율적 (SMTP 서버 연결 1회만 수행)
- 코드가 간단하고 구현이 쉬움
- 네트워크 오버헤드 최소화

**단점:**
- 모든 수신자가 서로의 이메일 주소를 볼 수 있음 (개인정보 노출)
- 개인화 불가능 (모든 수신자가 동일한 내용을 받음)
- 발송 실패 시 어떤 수신자에게 실패했는지 파악 어려움

**권장 사용 시나리오:**
- 팀 내부 공지사항
- 단체 메일
- 수신자들이 서로를 알고 있는 경우

### 방법 2: 개별 발송 (send_email_individual)
각 수신자에게 개별적으로 메일을 발송 (SMTP 연결은 재사용)

**장점:**
- 각 수신자는 자신의 이메일 주소만 볼 수 있음 (개인정보 보호)
- 이름을 이용한 개인화 가능 (HTML에서 `{name}` 태그 사용)
- 각 수신자별로 발송 성공/실패 추적 가능
- SMTP 연결을 재사용하여 효율성 유지

**단점:**
- 방법 1보다는 느림 (각 수신자마다 sendmail() 호출)
- 코드가 약간 더 복잡함

**권장 사용 시나리오:**
- 마케팅 이메일
- 개인화된 메시지가 필요한 경우
- 수신자들이 서로를 모르는 경우
- 개인정보 보호가 중요한 경우

## 테스트 결과 및 권장 방법

### 테스트 환경
- Python 3.x
- Gmail SMTP 서버
- 5명의 수신자

### 성능 비교
| 항목 | 방법 1 (일괄) | 방법 2 (개별) |
|------|--------------|--------------|
| SMTP 연결 | 1회 | 1회 |
| 메시지 전송 | 1회 | 5회 |
| 예상 소요 시간 | ~3초 | ~5초 |
| 개인정보 보호 | ✗ | ✓ |
| 개인화 | ✗ | ✓ |
| 발송 추적 | ✗ | ✓ |

### 권장 방법: **방법 2 (개별 발송)**

#### 선택 이유:
1. **개인정보 보호**: 각 수신자는 자신의 이메일 주소만 볼 수 있어 개인정보가 보호됩니다.

2. **개인화 기능**: HTML 본문에 `{name}` 태그를 사용하여 각 수신자의 이름으로 개인화된 메시지를 보낼 수 있습니다.
   ```html
   <p>안녕하세요, <strong>{name}</strong>님!</p>
   ```

3. **발송 추적**: 각 수신자별로 발송 성공/실패를 개별적으로 추적할 수 있어, 문제 발생 시 빠른 대응이 가능합니다.

4. **효율성 유지**: SMTP 연결을 한 번만 맺고 재사용하므로, 속도 차이가 크지 않습니다.

5. **확장성**: 향후 수신자별 다른 내용을 보내거나, 발송 로그를 기록하는 등의 기능 확장이 용이합니다.

#### 단점 보완:
- 방법 1보다 약간 느리지만, SMTP 연결을 재사용하여 성능 저하를 최소화했습니다.
- 5명 기준 약 2초 정도의 시간 차이는 개인정보 보호와 개인화 기능의 장점에 비하면 무시할 수 있는 수준입니다.

## 구현 특징

### HTML 이메일
- CSS 스타일링을 통한 시각적 효과
- 헤더, 본문, 푸터 구조화
- 하이라이트, 리스트 등 다양한 HTML 요소 활용

### CSV 파일 처리
- `csv.DictReader`를 사용하여 CSV 파일을 딕셔너리 형태로 읽기
- 잘못된 이메일 주소 자동 필터링
- UTF-8 인코딩 지원

### 예외 처리
- SMTP 인증 실패
- 네트워크 연결 오류
- 서버 연결 끊김
- 파일 읽기 오류

## 사용 방법
자세한 사용 방법은 `sendmail.py` 파일의 상단 주석을 참고하세요.

## 코딩 스타일
- PEP 8 파이썬 코드 스타일 가이드 준수
- 문자열은 작은따옴표(' ') 사용
- 대입문의 = 앞뒤로 공백
- 들여쓰기는 공백 4칸
- 함수명: 소문자 + 언더스코어
- 클래스명: CapWords 방식
